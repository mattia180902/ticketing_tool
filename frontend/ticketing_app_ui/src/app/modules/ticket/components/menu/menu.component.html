<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top bg-body-tertiary z-50">
  <div class="container-fluid">
    <!-- Burger Icon -->
    <button
      class="text-3xl md:hidden border-0 bg-transparent"
      aria-label="Open Menu"
      (click)="toggleMenu()"
    >
      <i class="fas fa-bars"></i>
    </button>

    <!-- Logo -->
    <a class="navbar-brand ms-2" routerLink="/books">
      <img src="assets/logo.png" alt="Logo" width="150" height="auto" />
    </a>

    <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
      <form class="d-flex gap-2 align-items-center" role="search">
        <input
          class="form-control"
          type="search"
          placeholder="Find a service"
          aria-label="Search"
        />
        <button class="btn btn-outline-success" type="submit">
          <i class="fas fa-search"></i>
        </button>
        <span>Welcome</span>
        <span class="text-capitalize fw-bold">{{username}}</span>
        <button class="btn btn-link" type="button" (click)="logout()">
          <i class="fas fa-door-open"></i>
        </button>
      </form>
    </div>
  </div>
</nav>

<!-- Sidebar Mobile -->
<div
  *ngIf="menuOpen"
  class="fixed top-0 left-0 w-64 h-full bg-white shadow-lg z-50 flex flex-col p-4 gap-4 transition-transform duration-300 ease-in-out"
  style="transform: translateX(0);"
>
  <div class="flex items-center justify-between mb-4">
    <span class="text-lg font-semibold">Menu</span>
    <button (click)="closeMenu()" class="text-2xl border-0 bg-transparent" aria-label="Chiudi menu">
      <i class="fas fa-times"></i>
    </button>
  </div>

  <button
    class="py-3 text-left border-b"
    (click)="navigateTo('/home')"
    (keyup.enter)="navigateTo('/home')"
    role="button"
    tabindex="0"
  >
    🏠 Home
  </button>

  <button
    class="py-3 text-left border-b"
    (click)="navigateTo('/services')"
    (keyup.enter)="navigateTo('/services')"
    role="button"
    tabindex="0"
  >
    📋 Servizi
  </button>

  <button
    class="py-3 text-left border-b"
    (click)="navigateTo('/tickets')"
    (keyup.enter)="navigateTo('/tickets')"
    role="button"
    tabindex="0"
  >
    🎫 Ticket
  </button>

  <button
    class="py-3 text-left text-red-600 border-t mt-auto"
    (click)="logout()"
    (keyup.enter)="logout()"
    role="button"
    tabindex="0"
  >
    🚪 Logout
  </button>
</div>

<!-- Overlay scuro -->
<div
  *ngIf="menuOpen"
  (click)="closeMenu()"
  (keyup.enter)="closeMenu()"
  tabindex="0"
  role="button"
  aria-label="Chiudi menu"
  class="fixed top-0 left-0 w-full h-full bg-black bg-opacity-50 z-40"
></div>
